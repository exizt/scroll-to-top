"use strict";class shScrollToTop{constructor(){var e;this.scrollBase=100;this.ticking=false;this.displaying=false;this.arrowId="shScrollTop";this.isDebug=false;this.drawShape();window.addEventListener("scroll",e=>{if(typeof requestAnimationFrame!=="function")return;let t=this.scrollY();if(!this.ticking){window.requestAnimationFrame(()=>{this.scrollEvent(t);this.ticking=false});this.ticking=true}});(e=document.getElementById(this.arrowId))===null||e===void 0?void 0:e.addEventListener("click",()=>{this.scrollToTop()})}scrollToTop(){const e="scrollBehavior"in document.documentElement.style;if(e){window.scrollTo({top:0,behavior:"smooth"})}else{const s=e=>{let t=e||0;if(t>10){setTimeout(()=>{window.scrollTo(0,t);s(t*.9)},10)}else{window.scrollTo(0,0)}};s(this.scrollY())}}drawShape(){var e;let t=`<div id="${this.arrowId}" class="sh-scrolltop" style="display:none"><div class="sh-arrow"></div></div>`;(e=document.querySelector("body"))===null||e===void 0?void 0:e.insertAdjacentHTML("beforeend",t)}scrollEvent(e){if(e>this.scrollBase){if(this.displaying===false){let e=document.getElementById(this.arrowId);this.fadeIn(e,.3);this.displaying=true}}else{if(this.displaying===true){let e=document.getElementById(this.arrowId);this.fadeOut(e);this.displaying=false}}}scrollY(){let e=window.pageXOffset!==undefined;let t=(document.compatMode||"")==="CSS1Compat";let s=e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop;return s}fadeIn(s,i=1,e=true,t="block"){s.style.opacity=0;s.style.display=t;if(e){let e=0;let t;const o=()=>{s.style.opacity=e+=.02;if(e>=i){e=i;cancelAnimationFrame(t)}};const l=()=>{t=requestAnimationFrame(l);o()};l()}else{s.style.opacity=1}}fadeOut(s,e=true,i="none"){if(e){let e=s.style.opacity;let t;const o=()=>{s.style.opacity=e-=.04;if(e<=0){e=0;s.style.display=i;cancelAnimationFrame(t)}};const l=()=>{t=requestAnimationFrame(l);o()};l()}else{s.style.opacity=0}}}